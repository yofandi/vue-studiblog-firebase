<template>
	<!-- Page Header-->
	<header class="masthead" id="masthead">
		<div class="container position-relative px-4 px-lg-5">
			<div class="row gx-4 gx-lg-5 justify-content-center">
				<div class="col-md-10 col-lg-8 col-xl-7">
					<div class="site-heading">
						<h1>Clean Blog</h1>
						<span class="subheading">A Blog Theme by Start Bootstrap</span>
					</div>
				</div>
			</div>
		</div>
	</header>
	<!-- Main Content-->
	<div class="container px-4 px-lg-5">
		<div class="row gx-4 gx-lg-5 justify-content-center">
			<div class="col-md-10 col-lg-8 col-xl-7">
				<div v-if="error">
					{{ error }}
				</div>
				<div v-if="posts.length">
					<PostList :posts="posts"></PostList>
				</div>
				<div v-else>
					<Loading />
				</div>
			</div>
		</div>
	</div>
</template>

<script>
import PostList from "../components/posts/BlogPosts.vue"
import GetPosts from "../composable/GetPosts.js"
import Loading from "@/components/Loading.vue"

export default {
	name: "Blogview",
	components: {
		PostList,
		Loading,
	},
	setup() {

		const { posts, error, load } = GetPosts()

		load();

		return { posts, error }
	},
};
</script>

<style>
	#masthead {
		background-image: url('@/assets/img/home-bg.jpg');
	}
</style>